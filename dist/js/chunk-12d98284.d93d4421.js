(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12d98284"],{"0076":function(e,t,n){},"09ee":function(e,t,n){"use strict";var r=n("cf2b"),a=n.n(r);a.a},"10e6":function(e,t,n){"use strict";var r=n("c2a8"),a=n.n(r);a.a},"1fd4":function(e,t,n){},2800:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("VcAFrame",[n("VcAColumn",{attrs:{size:"70%"}},[n("VcABox",{attrs:{first:!0,title:e.$t("household.header.box.list")}},[n("Collapse",{attrs:{label:e.$t("household.filter.title")}},[n("template",{slot:"status"},[n("div",{staticClass:"tags"},[e._l(e.filterCrewTag,(function(e){return n("VcAFilterTag",{key:e.name,attrs:{field:e.name}},[n("CrewPlainName",{attrs:{id:e.value}})],1)})),e._l(e.filterTags,(function(e){return n("VcAFilterTag",{key:e.name,attrs:{field:e.name,value:e.value}})}))],2)]),n("HouseholdFilter",{on:{"vca-filter-updated":e.addState}})],2),n("ListMenu",{attrs:{fields:e.sortFields,store:"household"}}),e.hasPrevious?n("button",{staticClass:"paginate",on:{click:function(t){return e.pageDown()}}},[e._v("\n                "+e._s(e.$tc("pagination.previous",e.pageGet.previous,{number:e.pageGet.previous}))+"\n            ")]):e._e(),n("ExpenseList",{on:{"vca-edit-expense":e.editState}}),e.hasNext?n("button",{staticClass:"paginate",on:{click:function(t){return e.pageUp()}}},[e._v("\n                "+e._s(e.$tc("pagination.next",e.pageGet.next,{number:e.pageGet.next}))+"\n            ")]):e._e()],1)],1),n("VcAColumn",{attrs:{size:"20%"}},[n("VcABox",{attrs:{first:!0,title:e.$t("household.header.box.expense")}},[e.isEditState?n("div",{attrs:{slot:"header"},slot:"header"},[n("button",{staticClass:"vca-button-default",on:{click:function(t){return t.preventDefault(),e.addState(t)}}},[e._v("\n                    "+e._s(e.$t("household.buttons.cancel"))+"\n                ")])]):e._e(),e.isEditState?e._e():n("ExpenseForm",{key:e.editable.key}),e.isEditState?n("ExpenseForm",{key:e.editable.key,attrs:{uuid:e.editable.key},on:{"vca-expense-update":e.addState}}):e._e()],1),e.isEditState?n("VcABox",{attrs:{title:e.$t("household.header.box.transitions")}},[e.isEditState?n("div",{attrs:{slot:"header"},slot:"header"},[n("button",{staticClass:"vca-button-default",on:{click:function(t){return t.preventDefault(),e.addState(t)}}},[e._v("\n                    "+e._s(e.$t("household.buttons.cancel"))+"\n                ")])]):e._e(),n("ExpenseStateTransition",{attrs:{uuid:e.editable.key}})],1):e._e()],1)],1)},a=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("7f7f"),n("bd86")),o=n("2f62"),i=n("0ced"),l=(n("1207"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{model:e.expense,rules:e.rules}},[n("p",{domProps:{innerHTML:e._s(e.$t("household.hints.expense"))}}),n("MoneyInput",{key:e.expense.amount.amount,attrs:{currency:"EUR",label:e.$t("household.placeholder.amount"),required:!0,disabled:!e.isEditable},model:{value:e.expense.amount,callback:function(t){e.$set(e.expense,"amount",t)},expression:"expense.amount"}}),n("el-form-item",{attrs:{required:!0}},[n("el-input",{attrs:{placeholder:e.$t("household.placeholder.what"),disabled:!e.isEditable},model:{value:e.expense.reason.what,callback:function(t){e.$set(e.expense.reason,"what",t)},expression:"expense.reason.what"}})],1),n("el-form-item",{attrs:{required:!0}},[n("el-input",{attrs:{placeholder:e.$t("household.placeholder.wherefor"),disabled:!e.isEditable},model:{value:e.expense.reason.wherefor,callback:function(t){e.$set(e.expense.reason,"wherefor",t)},expression:"expense.reason.wherefor"}})],1),n("el-form-item",{attrs:{required:!1,prop:"iban"}},[n("el-input",{attrs:{placeholder:e.$t("household.placeholder.iban"),disabled:!e.isEditable},model:{value:e.expense.iban,callback:function(t){e.$set(e.expense,"iban",t)},expression:"expense.iban"}})],1),n("el-form-item",{attrs:{required:!1}},[n("el-input",{attrs:{placeholder:e.$t("household.placeholder.bic"),disabled:!e.isEditable},model:{value:e.expense.bic,callback:function(t){e.$set(e.expense,"bic",t)},expression:"expense.bic"}})],1),n("el-radio-group",{model:{value:e.expense.request,callback:function(t){e.$set(e.expense,"request",t)},expression:"expense.request"}},[n("el-radio-button",{attrs:{label:!1}},[e._v(e._s(e.$t("household.placeholder.request")))]),n("el-radio-button",{attrs:{label:!0}},[e._v(e._s(e.$t("household.placeholder.appliedFor")))])],1),n("button",{staticClass:"vca-button-primary vca-full-width",attrs:{disabled:!e.isEditable},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("\n      "+e._s(e.$t("household.buttons.save"))+"\n    ")])],1)}),u=[],c=n("bc3a"),p=n.n(c),d=n("5c96"),h=n("63ee");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={name:"ExpenseForm",components:{"el-form":d["Form"],"el-input":d["Input"],"el-form-item":d["FormItem"],MoneyInput:h["a"]},props:{uuid:{type:String,required:!1}},data:function(){var e=this,t=function(t,n,r){var a=e;p.a.get("https://openiban.com/validate/"+n+"?getBIC=true&validateBankCode=true").then((function(e){200==e.status&&(console.log(e.data),e.data.valid?(a.expense.bic=e.data.bankData.bic,r()):r(new Error(a.$i18n.t("household.errors.invalidIBAN"))))}))},n=Date.now(),r={amount:{amount:0,currency:"EUR"},reason:{what:"",wherefor:""},iban:"",bic:"",request:!1,created:n,updated:n};return{expense:JSON.parse(JSON.stringify(r)),default:r,rules:{iban:[{validator:t,trigger:"blur"}]}}},computed:m({},Object(o["c"])("household",{allowedAction:"allowedAction",editAllowed:"isEditable",byId:"byId"}),{value:function(){var e=null;return"undefined"!==typeof this.uuid&&null!==this.uuid&&(e=this.byId(this.uuid)),e},isUpdate:function(){return"undefined"!==typeof this.value&&null!==this.value},allowedRequestChange:function(){var e=!0;return this.isUpdate&&(e=this.allowedAction(this.expense.id,"request")||this.allowedAction(this.expense.id,"apply")),e},isEditable:function(){var e=!0;return this.isUpdate&&(e=this.editAllowed(this.expense.id)),e}}),created:function(){this.isUpdate&&(this.expense=JSON.parse(JSON.stringify(this.value)))},methods:m({},Object(o["b"])("household",["add","update"]),{commit:function(){this.setDate(),this.isUpdate?(this.update(this.expense),this.$emit("vca-expense-update",this.expense)):(this.add(this.expense),this.$emit("vca-expense-create",this.expense))},clear:function(){this.expense=this.default,this.$forceUpdate()},submitForm:function(){this.commit(),this.clear()},setDate:function(){if(this.isUpdate)this.expense.updated=Date.now();else{var e=Date.now();this.expense.created=e,this.expense.updated=e}}})},v=b,y=n("2877"),g=Object(y["a"])(v,l,u,!1,null,"1d90c32a",null),O=g.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.nothingToDo?n("p",[e._v("\n        "+e._s(e.$t("household.transitions.NothingToDo"))+"\n    ")]):e._e(),e.isApproved&&e.isAuthorOrEditor?n("button",{staticClass:"vca-button-primary vca-full-width",attrs:{disabled:!e.allowedRequestChange("requestPayment")},on:{click:e.startRequestRepayment}},[e._v("\n        "+e._s(e.$t("household.transitions.Owner.requestPayment"))+"\n    ")]):e._e(),e.isVolunteerManager?n("button",{staticClass:"vca-button-primary vca-full-width",attrs:{disabled:!e.allowedRequestChange("isKnown")},on:{click:e.markAsKnown}},[e._v("\n        "+e._s(e.$t("household.transitions.VolunteerManager.knows"))+"\n    ")]):e._e(),e.isVolunteerManager?n("button",{staticClass:"vca-button-primary vca-full-width",attrs:{disabled:!e.allowedRequestChange("isUnknown")},on:{click:e.markAsUnknown}},[e._v("\n        "+e._s(e.$t("household.transitions.VolunteerManager.knowsNothing"))+"\n    ")]):e._e(),e.isEmployee?n("button",{staticClass:"vca-button-primary vca-full-width",attrs:{disabled:!e.allowedRequestChange("free")&&!e.allowedRequestChange("approve")},on:{click:e.markAsFreed}},[e._v("\n        "+e._s(e.$t("household.transitions.Employee.free"))+"\n    ")]):e._e(),e.isEmployee?n("button",{staticClass:"vca-button-primary vca-full-width",attrs:{disabled:!e.allowedRequestChange("block")},on:{click:e.markAsBlocked}},[e._v("\n        "+e._s(e.$t("household.transitions.Employee.block"))+"\n    ")]):e._e(),e.isEmployee?n("button",{staticClass:"vca-button-primary vca-full-width",attrs:{disabled:!e.allowedRequestChange("repay")},on:{click:e.markAsRepaid}},[e._v("\n        "+e._s(e.$t("household.transitions.Employee.repay"))+"\n    ")]):e._e()])},x=[];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={name:"ExpenseStateTransition",props:{uuid:{type:String,required:!0}},computed:j({},Object(o["c"])("household",{isApprovedState:"isApproved",allowedAction:"allowedAction",byId:"byId"}),{},Object(o["c"])("user",{isEmployee:"isEmployee",isVolunteerManager:"isVolunteerManager",canRequestRepayment:"isAuthorOrEditor"}),{isAuthorOrEditor:function(){return this.canRequestRepayment([this.expense.author,this.expense.editor])},isApproved:function(){return this.isApprovedState(this.uuid)},expense:function(){return this.byId(this.uuid)},nothingToDo:function(){return!(this.isApproved&&this.isAuthorOrEditor)&&!this.isEmployee&&!this.isVolunteerManager}}),methods:j({},Object(o["b"])("household",["isKnown","isUnknown","free","block","requestRepayment","repay"]),{markAsKnown:function(){this.isKnown(this.expense)},markAsUnknown:function(){this.isUnknown(this.expense)},markAsFreed:function(){this.free(this.expense)},markAsBlocked:function(){this.block(this.expense)},startRequestRepayment:function(){this.requestRepayment(this.expense)},markAsRepaid:function(){this.repay(this.expense)},allowedRequestChange:function(e){return this.allowedAction(this.uuid,e)}})},E=$,S=Object(y["a"])(E,w,x,!1,null,"4f24c9dd",null),k=S.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"expenses"},[n("thead",[n("tr",[n("th",[e._v(e._s(e.$t("household.header.table.what")))]),n("th",[e._v(e._s(e.$t("household.header.table.wherefor")))]),n("th",[e._v(e._s(e.$t("household.header.table.crew")))]),n("th",[e._v(e._s(e.$t("household.header.table.amount")))]),n("th",[e._v(e._s(e.$t("household.header.table.supporter")))]),n("th",[e._v(e._s(e.$t("household.header.table.state")))]),n("th",[e._v(e._s(e.$t("household.header.table.process")))])])]),e._l(e.expenses,(function(t){return n("ExpenseListEntry",{key:t.id,attrs:{expense:t},on:{"vca-edit-expense":e.editState}})}))],2)},P=[],A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tbody",{staticClass:"expense"},[n("tr",{staticClass:"details-table"},[n("td",[n("StateLight",{attrs:{"color-disabled-on-no-error":!0,small:!0},model:{value:e.what,callback:function(t){e.what=t},expression:"what"}}),n("br"),e.hasEditAccess?n("button",{staticClass:"vca-button-inline",on:{click:function(t){return e.editState(e.expense)}}},[e._v(e._s(e.$t("household.buttons.edit")))]):e._e()],1),n("td",[n("StateLight",{attrs:{"color-disabled-on-no-error":!0,small:!0},model:{value:e.wherefor,callback:function(t){e.wherefor=t},expression:"wherefor"}})],1),n("td",[n("CrewPlainName",{attrs:{id:e.expense.crewId}})],1),n("td",{staticClass:"vca-amount-wrapper"},[n("span",{staticClass:"vca-amount"},[e._v("\n                    "+e._s(e.formatAmount(e.expense.amount[e.expense.amount.length-1]))+"\n                ")]),n("div",{staticClass:"vca-amount-previous"},[e.expense.amount.length>1?n("span",{staticClass:"vca-amount"},[e._v("\n                        "+e._s(e.formatAmount(e.expense.amount[e.expense.amount.length-2]))+"\n                    ")]):e._e(),e.expense.amount.length>2?n("span",{staticClass:"vca-amount"},[e._v("...")]):e._e()])]),n("td",e._l(e.expense.supporter,(function(e){return n("Tag",{key:e,attrs:{uuid:e}})})),1),n("td",[n("div",{staticClass:"states"},e._l(e.cleanStates,(function(t){return n("RoleDependentStateLight",{key:"exp."+t.name,attrs:{value:e.formatStateNames("household.states.",t)}})})),1)]),n("td",{staticClass:"process"},[n("div",{staticClass:"labeled"},[n("span",{staticClass:"process-label"},[e._v(e._s(e.$t("household.process.VolunteerManager.RoleName")))]),n("div",{staticClass:"states"},e._l(e.expense.processing.VolunteerManager,(function(t){return n("RoleDependentStateLight",{key:"vm."+t.name,attrs:{value:e.formatStateNames("household.process.VolunteerManager.",t)}})})),1)]),n("div",{staticClass:"labeled"},[n("span",{staticClass:"process-label"},[e._v(e._s(e.$t("household.process.Employee.RoleName")))]),n("div",{staticClass:"states"},e._l(e.expense.processing.Employee,(function(t){return n("RoleDependentStateLight",{key:"em."+t.name,attrs:{value:e.formatStateNames("household.process.Employee.",t)}})})),1)])])]),n("tr",{staticClass:"details-row"},[n("td",{attrs:{colspan:"7"}},[n("div",{staticClass:"dates"},[n("span",[e._v(e._s(e.$t("household.hints.dates.created",{date:e.$d(new Date(e.expense.date.created),"short")})))]),e.expense.date.created!==e.expense.date.updated?n("span",[e._v("\n                        "+e._s(e.$t("household.hints.dates.updated",{date:e.$d(new Date(e.expense.date.created),"short")}))+"\n                    ")]):e._e()])])])])},D=[],q=(n("7514"),n("30be")),R=n("5aca"),N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("StateLight",{attrs:{small:!0},model:{value:e.light,callback:function(t){e.light=t},expression:"light"}})},F=[];function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M={name:"RoleDependentStateLight",components:{StateLight:R["a"]},props:{value:{type:Object,required:!0}},computed:V({},Object(o["c"])("user",{hasRole:"is"}),{state:function(){var e=this.value.attentionLights.Supporter;return this.hasRole(["Employee"])?e=this.value.attentionLights.Employee:this.hasRole(["VolunteerManager"])&&(e=this.value.attentionLights.VolunteerManager),e},light:function(){return{name:this.value.name,state:this.state}}})},I=M,T=Object(y["a"])(I,N,F,!1,null,"351c794c",null),J=T.exports,U=n("82a4");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H={name:"ExpenseListEntry",components:{Tag:q["Tag"],CrewPlainName:q["CrewPlainName"],StateLight:R["a"],RoleDependentStateLight:J},props:{expense:{type:Object,required:!0}},computed:G({},Object(o["c"])("user",{hasRole:"is",isEmployee:"isEmployee",isVolunteerManager:"isVolunteerManager",isAuthorOrEditor:"isAuthorOrEditor"}),{what:function(){var e={name:this.expense.what,state:1};return"undefined"!==typeof e.name&&null!==e.name&&""!==e.name||(e.name=this.$t("household.hints.reason.what.missing"),e.state=0),e},wherefor:function(){var e={name:this.expense.wherefor,state:1};return"undefined"!==typeof e.name&&null!==e.name&&""!==e.name||(e.name=this.$t("household.hints.reason.wherefor.missing"),e.state=0),e},cleanStates:function(){var e=this,t=this.expense.state.find((function(e){return"Repaid"===e.name})),n=this.expense.state;return"undefined"!==typeof t&&-1!==t&&null!==t&&(n=n.filter((function(e){return"HouseholdComplete"!==e.name&&"NotEditable"!==e.name}))),n=n.filter((function(t){return"HouseholdComplete"!==t.name||0===t.attentionLights.Supporter&&!e.hasRole(["Employee","VolunteerManager"])||0===t.attentionLights.Employee&&e.hasRole(["Employee"])||0===t.attentionLights.VolunteerManager&&e.hasRole(["VolunteerManager"])})),n},hasEditAccess:function(){var e=JSON.parse(JSON.stringify(this.expense.supporter));return e.push(this.expense.author),this.isEmployee||this.isVolunteerManager||this.isAuthorOrEditor(e)}}),methods:{formatAmount:function(e){var t=U["a"].getFromNumeric(e.currency,e.amount);return t.localize()},formatStateNames:function(e,t){var n=JSON.parse(JSON.stringify(t));return n.name=this.$t(e+t.name),n},editState:function(e){this.$emit("vca-edit-expense",e)}}},K=H,z=(n("10e6"),Object(y["a"])(K,A,D,!1,null,"3283a5dc",null)),Q=z.exports;function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y={name:"ExpenseList",components:{ExpenseListEntry:Q},computed:X({},Object(o["c"])("household",{expenses:"overview"})),created:function(){this.init()},methods:X({},Object(o["b"])("household",["init"]),{editState:function(e){this.$emit("vca-edit-expense",e)}})},Z=Y,ee=(n("9f51"),Object(y["a"])(Z,C,P,!1,null,"34c32219",null)),te=ee.exports,ne=n("9c56"),re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{model:e.filter,"label-position":"left","label-width":"8em"}},[n("el-form-item",{attrs:{label:e.$t("household.filter.what"),required:""}},[n("el-input",{on:{input:e.commit},model:{value:e.filter.what,callback:function(t){e.$set(e.filter,"what",t)},expression:"filter.what"}})],1),n("el-form-item",{attrs:{label:e.$t("household.filter.wherefor"),required:""}},[n("el-input",{on:{input:e.commit},model:{value:e.filter.wherefor,callback:function(t){e.$set(e.filter,"wherefor",t)},expression:"filter.wherefor"}})],1),n("el-form-item",{attrs:{label:e.$t("household.filter.amount"),required:""}},[n("MoneyInput",{attrs:{currency:e.currency},on:{input:e.commit},model:{value:e.filter.amount,callback:function(t){e.$set(e.filter,"amount",t)},expression:"filter.amount"}})],1),n("el-form-item",{attrs:{label:e.$t("household.filter.crew"),required:""}},[n("CrewSelect",{on:{input:e.commit},model:{value:e.filter.crew,callback:function(t){e.$set(e.filter,"crew",t)},expression:"filter.crew"}})],1),n("el-form-item",{attrs:{label:e.$t("household.filter.state.general"),required:""}},[n("el-form-item",{attrs:{label:e.$t("household.filter.state.complete"),required:""}},[n("el-radio-group",{on:{change:e.commit},model:{value:e.filter.state.complete,callback:function(t){e.$set(e.filter.state,"complete",t)},expression:"filter.state.complete"}},e._l(e.completeOptions,(function(t){return n("el-radio-button",{key:t,attrs:{label:t}},[e._v(e._s(e.$t("household.filter.options.complete."+t)))])})),1)],1),n("el-form-item",{attrs:{label:e.$t("household.filter.state.repayment"),required:""}},[n("el-select",{attrs:{placeholder:"Select"},on:{change:e.commit},model:{value:e.filter.state.repayment,callback:function(t){e.$set(e.filter.state,"repayment",t)},expression:"filter.state.repayment"}},e._l(e.stateOptions,(function(t){return n("el-option",{key:t,attrs:{label:e.$t("household.states."+t),value:t}})})),1)],1),n("el-form-item",{attrs:{label:e.$t("household.filter.state.volunteerManager"),required:""}},[n("el-select",{attrs:{placeholder:"Select"},on:{change:e.commit},model:{value:e.filter.state.volunteerManager,callback:function(t){e.$set(e.filter.state,"volunteerManager",t)},expression:"filter.state.volunteerManager"}},e._l(e.volunteerManagerOptions,(function(t){return n("el-option",{key:t,attrs:{label:e.$t("household.process.VolunteerManager."+t),value:t}})})),1)],1),n("el-form-item",{attrs:{label:e.$t("household.filter.state.employee"),required:""}},[n("el-select",{attrs:{placeholder:"Select"},on:{change:e.commit},model:{value:e.filter.state.employee,callback:function(t){e.$set(e.filter.state,"employee",t)},expression:"filter.state.employee"}},e._l(e.employeeOptions,(function(t){return n("el-option",{key:t,attrs:{label:e.$t("household.process.Employee."+t),value:t}})})),1)],1)],1)],1)},ae=[],se=n("7618");function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le={name:"HouseholdFilter",components:{MoneyInput:h["a"],"el-input":d["Input"],"el-input-number":d["InputNumber"],"el-form-item":d["FormItem"],"el-form":d["Form"],CrewSelect:q["CrewSelect"]},props:{currency:{type:String,default:"EUR"}},computed:ie({},Object(o["c"])("household",{getFilter:"filter"}),{stateOptions:function(){return["AppliedFor","Requested","Approved","ToRepay","Repaid","Refused","NotEditable"]},volunteerManagerOptions:function(){return["Idle","Knows","KnowsNothing"]},employeeOptions:function(){return["Start","Free","Refused"]},completeOptions:function(){return["noSelection","incomplete","complete"]}}),data:function(){return{filter:{what:"",wherefor:"",crew:null,amount:{formatted:"",amount:0},state:{complete:"noSelection",repayment:"",volunteerManager:"",employee:""}}}},created:function(){this.filter=this.getFilter},methods:ie({},Object(o["b"])("household",{setFilter:"filter"}),{commit:function(){"object"===Object(se["a"])(this.filter.crew)&&null!==this.filter.crew&&this.filter.crew.hasOwnProperty("id")&&(this.filter.crew=this.filter.crew.id),this.setFilter(JSON.parse(JSON.stringify(this.filter))),this.$emit("vca-filter-updated")}})},ue=le,ce=Object(y["a"])(ue,re,ae,!1,null,"f3ce73ac",null),pe=ce.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"collapse",staticClass:"vca-collapse collapsed"},[n("div",{staticClass:"state"},[n("span",[e._v(e._s(e.$t("household.filter.title")))]),n("div",{staticClass:"status-bar"},[e._t("status")],2),n("button",{on:{click:e.collapse}},[e._v(e._s(e.buttonLabel))])]),n("div",{staticClass:"content"},[e._t("default")],2)])},he=[],fe={name:"Collapse",props:{label:{type:String,required:!0}},data:function(){return{buttonLabel:this.$t("collapse.button.show")}},methods:{collapse:function(){this.$refs.collapse.classList.contains("collapsed")?(this.$refs.collapse.classList.remove("collapsed"),this.$refs.collapse.classList.add("non-collapsed"),this.buttonLabel=this.$t("collapse.button.hide")):this.$refs.collapse.classList.contains("non-collapsed")&&(this.$refs.collapse.classList.remove("non-collapsed"),this.$refs.collapse.classList.add("collapsed"),this.buttonLabel=this.$t("collapse.button.show"))}}},me=fe,be=(n("09ee"),Object(y["a"])(me,de,he,!1,null,"3fd8d31b",null)),ve=be.exports,ye=n("adba");function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we={name:"Household",components:{Collapse:ve,HouseholdFilter:pe,VcAFrame:i["VcAFrame"],VcAColumn:i["VcAColumn"],VcABox:i["VcABox"],ExpenseForm:O,ExpenseStateTransition:k,ExpenseList:te,ListMenu:ne["a"],VcAFilterTag:i["VcAFilterTag"],CrewPlainName:q["CrewPlainName"]},data:function(){var e={value:null,key:-1};return{editableDefault:e,editable:JSON.parse(JSON.stringify(e))}},computed:Oe({},Object(o["c"])("household",{byId:"byId",pageGet:"page",taggableFilter:"taggableFilter"}),{isEditState:function(){return"undefined"!==typeof this.editable.value&&null!==this.editable.value},hasPrevious:function(){return this.pageGet.previous>0},hasNext:function(){return this.pageGet.next>0},hasCrewTag:function(){return this.taggableFilter.filter((function(e){return"crew"===e.name})).length>0},sortFields:function(){return[{value:"household_version.reason_what",label:this.$t("household.header.table.what")},{value:"household_version.reason_wherefor",label:this.$t("household.header.table.wherefor")},{value:"household_version.crew_id",label:this.$t("household.header.table.crew")},{value:"household_version.amount",label:this.$t("household.header.table.amount")},{value:"household_version.created",label:this.$t("household.header.table.created")},{value:"household_version.updated",label:this.$t("household.header.table.updated")}]},filterCrewTag:function(){var e=this;return JSON.parse(JSON.stringify(this.taggableFilter.filter((function(e){return"crew"===e.name})))).map((function(t){return t.name=e.$t("household.filter.tag.crew"),t}))},filterTags:function(){var e=this;return this.taggableFilter.reduce((function(t,n){var r=function(t){if("publicId"===t.name)t.value=e.$t("household.filter.tag.values."+t.name+"."+t.value);else if("crew"===t.name)t.value=e.$t("household.states."+t.value);else if("name"===t.name)t.value=e.$t("household.process.VolunteerManager."+t.value);else if("norms"===t.name)t.value=e.$t("household.process.Employee."+t.value);else if("amount"===t.name){var r=U["a"].getFromNumeric(t.value.currency,t.value.amount);t.value=r.localize()}return t.name=e.$t("household.filter.tag."+n.name),t},a=t;return"complete"===n.name&&"noSelection"===n.value||"crew"===n.name||(Array.isArray(n.value)?a=a.concat(n.value.map((function(e){return r({name:n.name,value:e})}))):a.push(r(n))),a}),[])},isEditable:function(){var e=!0;if(this.isUpdate){var t=this.stateById(this.expense.id);e=ye["a"].isEditable(t)}return e}}),methods:Oe({},Object(o["b"])("household",{page:"page"}),{editState:function(e){this.editable.value=this.byId(e.id),this.editable.key=e.id},addState:function(){this.editable=JSON.parse(JSON.stringify(this.editableDefault))},pageDown:function(){this.page(!0)},pageUp:function(){this.page(!1)}})},xe=we,_e=(n("5b70"),Object(y["a"])(xe,r,a,!1,null,"96f7cbb8",null));t["default"]=_e.exports},"386b":function(e,t,n){var r=n("5ca1"),a=n("79e5"),s=n("be13"),o=/"/g,i=function(e,t,n,r){var a=String(s(e)),i="<"+t;return""!==n&&(i+=" "+n+'="'+String(r).replace(o,"&quot;")+'"'),i+">"+a+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(i),r(r.P+r.F*a((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},"5aca":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"light",class:e.classes},[e._v("\n    "+e._s(e.value.name)+"\n")])},a=[],s=(n("f386"),{name:"StateLight",props:{value:{type:Object,required:!0},"color-disabled-on-no-error":{type:Boolean,default:!1},small:{type:Boolean,default:!1}},computed:{color:function(){var e="nothing";switch(this.value.state){case 0:e="red";break;case 1:this.colorDisabledOnNoError||(e="green");break;case 2:e="yellow";break}return e},classSmall:function(){var e="";return!this.small||this.colorDisabledOnNoError&&1===this.value.state||(e="small"),e},classes:function(){return this.color+" "+this.classSmall}}}),o=s,i=(n("d12e"),n("2877")),l=Object(i["a"])(o,r,a,!1,null,"266d7293",null);t["a"]=l.exports},"5b70":function(e,t,n){"use strict";var r=n("7bb0"),a=n.n(r);a.a},"7bb0":function(e,t,n){},"9f51":function(e,t,n){"use strict";var r=n("0076"),a=n.n(r);a.a},c2a8:function(e,t,n){},cf2b:function(e,t,n){},d12e:function(e,t,n){"use strict";var r=n("1fd4"),a=n.n(r);a.a},f386:function(e,t,n){"use strict";n("386b")("small",(function(e){return function(){return e(this,"small","","")}}))}}]);
//# sourceMappingURL=chunk-12d98284.d93d4421.js.map